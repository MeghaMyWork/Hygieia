
<h1 id="create-new-collector">Create New Collector</h1>
<h2 id="copy-skeleton-collector-project">Copy skeleton collector project</h2>
<p>Copy the sample collector project into a new directory in the collectors folder and give it a name to match the collector you are building (eg pivotalTracker). In the pom.xml file, change the artifactId, name and optionally the groupId elements, like so:</p>
<pre><code>&lt;project&gt;
    &lt;groupId&gt;com.capitalone.dashboard&lt;/groupId&gt;
    &lt;artifactId&gt;pivotal-tracker-collector&lt;/artifactId&gt;
    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;Pivotal Tracker Collector&lt;/name&gt;

    ...
&lt;/project&gt;</code></pre>
<p>The pom file includes all of the dependencies you will need to interact with the Dashboard Application MongoDB instance, such as Model classes and Repositories.</p>
<h2 id="extending-collector">Extending Collector</h2>
<p>If you need to store extra configuration for your collector, you can create a class that extends Collector and add new fields to store configuration information that is specific to your collector.</p>
<pre><code>package com.capitalone.dashboard.collector;

import com.capitalone.dashboard.model.Collector;

/**
 * Collect Features from PivotalTracker
 */
public class PivotalTrackerCollector extends Collector {
    private String apiToken;

    public String getApiToken() {
        return apiToken;
    }

    public void setApiToken(String apiToken) {
        this.apiToken = apiToken;
    }
}</code></pre>
<p>If you decide to take this approach, you will also need to create a Spring Data repository interface that extends from BaseCollectorRepository.</p>
<pre><code>package com.capitalone.dashboard.repository;

import com.capitalone.dashboard.model.PivotalTrackerCollector;

public interface PivotalTrackerCollectorRepository extends BaseCollectorRepository&lt;PivotalTrackerCollector&gt; {
}</code></pre>
<h2 id="extending-collectoritem">Extending CollectorItem</h2>
<p>Create a class that extends CollectorItem and add new fields to store information that identifies a unique item within the tool. In the Pivotal Tracker example, we will add a projectId field to CollectorItem so that each projectâ€™s features can be tracked.</p>
<pre><code>package com.capitalone.dashboard.collector;

import com.capitalone.dashboard.model.CollectorItem;

public class PivotalTrackerCollectorItem extends CollectorItem {
    private long projectId;

    public long getProjectId() {
        return projectId;
    }

    public void setProjectId(long projectId) {
        this.projectId = projectId;
    }
}</code></pre>
<h2 id="create-collectortask">Create CollectorTask</h2>
<p>Create a class that extends the abstract CollectorTask and implement the required abstract methods.</p>
<h2 id="getcollector-method">### getCollector() Method</h2>
<p>The getCollector method should return a prototypical instance of your Collector subclass (eg PivotalTrackerCollector). This method is only used the very first time</p>
